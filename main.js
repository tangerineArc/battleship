(()=>{"use strict";var e={208:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),s=t.n(i)()(r());s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Tourney:ital,wght@0,100..900;1,100..900&display=swap);"]),s.push([e.id,'*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\n:root {\n  --primary-background-color: #001233;\n\n  --primary-text-color: #0466c8;\n\n  --accent-color: #fdc500;\n\n  --dead-border-color: #c1121f;\n  --dead-background-color: #c1121f44;\n}\n\nbody {\n  width: 100vw;\n  user-select: none;\n  background-color: var(--primary-background-color);\n  padding: 1rem;\n  padding-top: 5rem;\n}\n\n#starting-screen {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n\n  height: 100%;\n  background-color: var(--primary-background-color);\n\n  & > h1 {\n    font-family: "Tourney", serif;\n    font-size: 10rem;\n    color: var(--primary-text-color);\n    text-shadow: 5px 5px var(--accent-color);\n    text-transform: lowercase;\n  }\n\n  & > button {\n    font-family: "Tourney", serif;\n    font-size: 3rem;\n    color: var(--accent-color);\n    text-transform: uppercase;\n\n    padding: 1rem 4rem;\n    border: none;\n    background-color: var(--primary-text-color);\n    cursor: pointer;\n  }\n\n  & > button:hover {\n    box-shadow: 15px 15px var(--primary-text-color);\n    background-color: var(--accent-color);\n\n    color: var(--primary-text-color);\n    font-weight: 500;\n  }\n}\n\n#game-screen {\n  height: 100%;\n  width: 100%;\n  background-color: var(--primary-background-color);\n\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n\n  & > #boards-container {\n    display: flex;\n    justify-content: center;\n    gap: 6rem;\n    width: 100%;\n\n    & > .board {\n      display: flex;\n      flex-direction: column;\n\n      position: relative;\n\n      & > #loader {\n        position: absolute;\n        left: 2.8rem;\n        top: 2.8rem;\n\n        display: none;\n        justify-content: center;\n        align-items: center;\n\n        width: calc(100% - 2.8rem);\n        height: calc(100% - 5.2rem);\n        background-color: #0466c844;\n      }\n\n      & > .x-axis {\n        display: flex;\n\n        & > div {\n          width: 2.8rem;\n          height: 2.8rem;\n\n          display: flex;\n          align-items: center;\n          justify-content: center;\n\n          color: var(--accent-color);\n          font-family: "Tourney", serif;\n          font-weight: 500;\n        }\n      }\n\n      & > .row {\n        display: flex;\n\n        & > .row-number {\n          width: 2.8rem;\n          height: 2.8rem;\n\n          display: flex;\n          align-items: center;\n          justify-content: center;\n\n          color: var(--accent-color);\n          font-family: "Tourney", serif;\n          font-weight: 500;\n        }\n\n        & > .cell {\n          width: 2.8rem;\n          height: 2.8rem;\n          border: 1px dashed var(--primary-text-color);\n        }\n      }\n\n      & .player-tag {\n        text-align: center;\n        color: var(--accent-color);\n        font-family: "Tourney", serif;\n        font-weight: 500;\n        font-size: 1.2rem;\n\n        padding-top: 1rem;\n        padding-left: 2.8rem;\n      }\n    }\n  }\n\n  & > #options {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 2rem;\n\n    & > #reset-button {\n      display: none;\n    }\n\n    & > button {\n      font-family: "Tourney", serif;\n      font-size: inherit;\n      font-weight: 500;\n      color: var(--accent-color);\n\n      border: 1px dashed var(--primary-text-color);\n      padding: 0.5rem 1rem;\n      background-color: transparent;\n\n      cursor: pointer;\n    }\n\n    & > button:hover:not(.disabled-button) {\n      border: 1px dashed var(--accent-color);\n    }\n  }\n\n  & > #instructions {\n    & > p {\n      font-family: "Tourney", serif;\n      font-weight: 500;\n      font-size: 1.2rem;\n      color: var(--accent-color);\n      letter-spacing: 0.2ch;\n      text-align: center;\n    }\n  }\n}\n\n#board-2 .cell {\n  cursor: crosshair;\n}\n\n#board-2 .cell:hover:not(.disabled-cell):not(.dead-cell):not(.missed-cell) {\n  background-color: var(--primary-text-color);\n}\n\n.disabled-cell {\n  border: 1px dotted #023e7d !important;\n  cursor: not-allowed !important;\n  background-color: transparent !important;\n}\n\n.non-viable-cell {\n  border: 1px dotted #023e7d !important;\n  cursor: not-allowed !important;\n  background-color: transparent;\n}\n\n.ship-cell {\n  background-color: #06d6a044 !important;\n  border: 1px dotted #06d6a0 !important;\n  cursor: move;\n}\n\n.dead-cell {\n  background-color: var(--dead-background-color) !important;\n  border: 1px dotted var(--dead-border-color) !important;\n  cursor: not-allowed !important;\n}\n\n.missed-cell {\n  background-color: #ffd50044 !important;\n  border: 1px dotted #ffd500 !important;\n  cursor: not-allowed !important;\n}\n\n.drag-over {\n  background-color: #7ae582dd;\n}\n\n.disabled-button {\n  opacity: 0.5;\n  cursor: not-allowed !important;\n}\n',""]);const a=s},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),n.push(c))}},n}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var i={},s=[],a=0;a<e.length;a++){var l=e[a],d=o.base?l[0]+o.base:l[0],c=i[d]||0,p="".concat(d," ").concat(c);i[d]=c+1;var u=t(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(h);else{var f=r(h,o);o.byIndex=a,n.splice(a,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=t(i[s]);n[a].references--}for(var l=o(e,r),d=0;d<i.length;d++){var c=t(i[d]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}i=l}}},659:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.nc=void 0;var o=t(72),r=t.n(o),i=t(825),s=t.n(i),a=t(659),l=t.n(a),d=t(56),c=t.n(d),p=t(540),u=t.n(p),h=t(113),f=t.n(h),m=t(208),g={};g.styleTagTransform=f(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u(),r()(m.A,g),m.A&&m.A.locals&&m.A.locals;const b=t.p+"196672ab08b8ef42afb8.mp3",y=t.p+"ea8a4a07f04d8b9d925f.mp3",v=document.querySelector("#starting-screen"),x=v.querySelector(":scope > button"),w=document.querySelector("#game-screen"),S=w.querySelector(":scope > #boards-container"),A=S.querySelector("#board-1").querySelectorAll(":scope > .row"),B=[];A.forEach((e=>{B.push(e.querySelectorAll(":scope > .cell"))}));const k=S.querySelector("#board-2"),L=k.querySelectorAll(":scope > .row"),C=[];L.forEach((e=>{C.push(e.querySelectorAll(":scope > .cell"))}));const P=k.querySelector(":scope > #loader"),T=w.querySelector("#randomize-button"),M=w.querySelector("#start-button"),E=w.querySelector("#reset-button"),H=w.querySelector("#instructions > p"),N=10,R=[5,4,3,3,2],q=["BOT","HUMAN"],O="V";class I{constructor(){const e=[];for(let n=0;n<N;n++){const n=[];for(let e=0;e<N;e++)n.push({ship:null,isHit:!1,index:null,orientation:null});e.push(n)}this.board=e}clear(){for(let e=0;e<N;e++)for(let n=0;n<N;n++)this.board[e][n].ship=null,this.board[e][n].isHit=!1,this.board[e][n].index=null,this.board[e][n].orientation=null}placeShip(e,n,t){if(n[0]>t[0]||n[1]>t[1]||t[0]>=N||t[1]>=N||n[0]<0||n[1]<0)throw new Error("Invalid start and end positions");let o=0;if(n[0]===t[0]){if(e.dimension!==t[1]-n[1]+1)throw new Error("Incompatible ship and positions");for(let r=n[1];r<=t[1];r++)this.board[n[0]][r].ship=e,this.board[n[0]][r].index=o++,this.board[n[0]][r].orientation="H"}else if(n[1]===t[1]){if(e.dimension!==t[0]-n[0]+1)throw new Error("Incompatible ship and positions");for(let r=n[0];r<=t[0];r++)this.board[r][n[1]].ship=e,this.board[r][n[1]].index=o++,this.board[r][n[1]].orientation=O}}removeShip(e){for(let n=0;n<N;n++)for(let t=0;t<N;t++)this.board[n][t].ship===e&&(this.board[n][t].ship=null,this.board[n][t].index=null,this.board[n][t].orientation=null,this.board[n][t].isHit=!1)}getPlaceablePositions(e){const n=[];for(let t=0;t<N;t++)for(let o=0;o<N;o++){const r=this.board[t][o];r.ship&&r.ship!==e||this.board[t][o+1]?.ship&&this.board[t][o+1]?.ship!==e||this.board[t][o-1]?.ship&&this.board[t][o-1]?.ship!==e||this.board[t+1]&&this.board[t+1][o].ship&&this.board[t+1][o].ship!==e||this.board[t-1]&&this.board[t-1][o].ship&&this.board[t-1][o].ship!==e||this.board[t+1]&&this.board[t+1][o+1]?.ship&&this.board[t+1][o+1]?.ship!==e||this.board[t+1]&&this.board[t+1][o-1]?.ship&&this.board[t+1][o-1]?.ship!==e||this.board[t-1]&&this.board[t-1][o+1]?.ship&&this.board[t-1][o+1]?.ship!==e||this.board[t-1]&&this.board[t-1][o-1]?.ship&&this.board[t-1][o-1]?.ship!==e||n.push(JSON.stringify([t,o]))}return n}receiveAttack([e,n]){const t=this.board[e][n];t.isHit||(t.ship&&this.board[e][n].ship.hit(),this.board[e][n].isHit=!0)}getMissedAttackPositions(){const e=[];for(let n=0;n<N;n++)for(let t=0;t<N;t++)null===this.board[n][t].ship&&this.board[n][t].isHit&&e.push([n,t]);return e}areAllShipsSunk(){for(let e=0;e<N;e++)for(let n=0;n<N;n++)if(null!==this.board[e][n].ship&&!this.board[e][n].isHit)return!1;return!0}}class j{constructor(e){if(!q.includes(e))throw new Error("Invalid player type");this.type=e,this.gameBoard=null,this.ships=null,this.hitAudioContext=null,this.missAudioContext=null}setGameBoard(e){this.gameBoard=e}setShips(e){this.ships=e}placeAllShips(){const e=this.ships;for(let n=0;n<e.length;n++)this.gameBoard.placeShip(e[n].ship,e[n].startPos,e[n].endPos)}setAudioContext(e,n){this.hitAudioContext=e,this.missAudioContext=n}}class J{constructor(e){if(!Number.isInteger(e)||!R.includes(e))throw new Error("Invalid argument for 'dimension' parameter");this.dimension=e,this.numHits=0}hit(){this.numHits++}isSunk(){return this.numHits>=this.dimension}}function U(){const e=new I,n=[];let t=0,o=0;for(;t<R.length&&o<100;){o++;const r=R[t],i=new J(r),s=e.getPlaceablePositions(i);let a=!1;if(1===Math.floor(2*Math.random())){const o=Math.floor(Math.random()*(N-r+1)),l=Math.floor(Math.random()*N),d=[o,l],c=[o+r-1,l];for(let e=d[0];e<=c[0];e++)if(!s.includes(JSON.stringify([e,l]))){a=!0;break}if(a)continue;n.push({ship:i,startPos:d,endPos:c}),e.placeShip(i,d,c),t++}else{const o=Math.floor(Math.random()*N),l=Math.floor(Math.random()*(N-r+1)),d=[o,l],c=[o,l+r-1];for(let e=d[1];e<=c[1];e++)if(!s.includes(JSON.stringify([o,e]))){a=!0;break}if(a)continue;n.push({ship:i,startPos:d,endPos:c}),e.placeShip(i,d,c),t++}}return o>=100?[{ship:new J(5),startPos:[0,5],endPos:[0,9]},{ship:new J(4),startPos:[5,8],endPos:[8,8]},{ship:new J(3),startPos:[7,5],endPos:[9,5]},{ship:new J(3),startPos:[2,5],endPos:[2,7]},{ship:new J(2),startPos:[2,2],endPos:[3,2]}]:n}const z=[],D=[],_=new j("HUMAN"),F=new j("BOT"),G=new class{constructor(){this.isRunning=!1,this.allowRepositioning=!0,this.isPaused=!1,this.doCleanUp=!1}start(){this.isRunning=!0}end(){this.isRunning=!1}pause(){this.isPaused=!0}resume(){this.isPaused=!1}};_.setGameBoard(new I),F.setGameBoard(new I),_.setShips(U()),F.setShips(U()),_.placeAllShips(),F.placeAllShips(),_.setAudioContext(new Audio(b),new Audio(y)),F.setAudioContext(new Audio(b),new Audio(y)),Q(_,B),x.addEventListener("click",(()=>{v.style.display="none",w.style.display="flex"})),M.addEventListener("click",(()=>{M.style.display="none",E.style.display="inline",T.disabled=!0,T.classList.add("disabled-button"),H.textContent="click on opponent's cells to attack",G.start(),G.allowRepositioning=!1})),E.addEventListener("click",(()=>{M.style.display="inline",E.style.display="none",T.disabled=!1,T.classList.remove("disabled-button"),H.textContent="press Start to initiate battle",_.gameBoard.clear(),_.setShips(U()),_.placeAllShips(),Q(_,B),F.gameBoard.clear(),F.setShips(U()),F.placeAllShips(),function(e){for(let n=0;n<N;n++)for(let t=0;t<N;t++){const o=e[n][t].classList;o.remove("dead-cell"),o.remove("missed-cell"),o.remove("disabled-cell")}}(C),G.end(),G.allowRepositioning=!0,G.doCleanUp=!0})),T.addEventListener("click",(()=>{_.gameBoard.clear(),_.setShips(U()),_.placeAllShips(),Q(_,B)}));for(let e=0;e<N;e++)for(let n=0;n<N;n++){const t=B[e][n];t.addEventListener("dragstart",(t=>{if(!G.allowRepositioning)return;const o=_.gameBoard.board[e][n];if(!o.ship)return;const r=_.gameBoard.getPlaceablePositions(o.ship);for(let e=0;e<N;e++)for(let n=0;n<N;n++)!r.includes(JSON.stringify([e,n]))&&o.ship&&B[e][n].classList.add("non-viable-cell");t.dataTransfer.setData("text/plain",JSON.stringify([e,n]))})),t.addEventListener("dragend",(()=>{if(G.allowRepositioning)for(let e=0;e<N;e++)for(let n=0;n<N;n++)B[e][n].classList.remove("non-viable-cell")})),t.addEventListener("dragenter",(t=>{G.allowRepositioning&&(_.gameBoard.board[e][n].ship||(t.preventDefault(),t.target.classList.add("drag-over")))})),t.addEventListener("dragover",(t=>{G.allowRepositioning&&(_.gameBoard.board[e][n].ship||(t.preventDefault(),t.target.classList.add("drag-over")))})),t.addEventListener("dragleave",(t=>{G.allowRepositioning&&(_.gameBoard.board[e][n].ship||t.target.classList.remove("drag-over"))})),t.addEventListener("drop",(t=>{if(!G.allowRepositioning)return;if(_.gameBoard.board[e][n].ship)return;let o;t.target.classList.remove("drag-over");try{if(o=JSON.parse(t.dataTransfer.getData("text/plain")),!X(o))throw new Error("Invalid data")}catch{return}const r=Y(o[0],o[1],_.gameBoard),i=_.gameBoard.board[o[0]][o[1]].ship,s=_.gameBoard.board[o[0]][o[1]].orientation,a=_.gameBoard.board[o[0]][o[1]].index,l=_.gameBoard.getPlaceablePositions(i);if(s===O){for(let t=e-a;t<=e-a+i.dimension-1;t++)if(!l.includes(JSON.stringify([t,n])))return}else for(let t=n-a;t<=n-a+i.dimension-1;t++)if(!l.includes(JSON.stringify([e,t])))return;try{let t,o;s===O?(t=[e-a,n],o=[e-a+i.dimension-1,n]):(t=[e,n-a],o=[e,n-a+i.dimension-1]),_.gameBoard.removeShip(i),_.gameBoard.placeShip(i,t,o),Q(_,B)}catch{const e=K(r,i,s);_.gameBoard.placeShip(i,r,e)}})),t.addEventListener("click",(()=>{G.allowRepositioning&&_.gameBoard.board[e][n].ship&&W(e,n)}))}for(let e=0;e<N;e++)for(let n=0;n<N;n++)C[e][n].addEventListener("click",(t=>{if(!G.isRunning||G.isPaused)return;const o=t.target.classList,r=F.gameBoard.board[e][n];if(!r.isHit&&!o.contains("disabled-cell")){if(F.gameBoard.receiveAttack([e,n]),r.ship?(o.add("dead-cell"),F.hitAudioContext.pause(),F.hitAudioContext.currentTime=0,F.hitAudioContext.play()):(o.add("missed-cell"),F.missAudioContext.pause(),F.missAudioContext.currentTime=0,F.missAudioContext.play()),r.ship?.isSunk()){const t=Y(e,n,F.gameBoard);V(t,K(t,r.ship,r.orientation),F.gameBoard,C)}if(F.gameBoard.areAllShipsSunk())return G.end(),void(H.textContent="(^_^) You Win ... press Reset to continue");G.pause(),P.style.display="flex",setTimeout((()=>{G.resume(),P.style.display="none",$(),G.doCleanUp=!1,_.gameBoard.areAllShipsSunk()&&(G.end(),H.textContent="(►_◄) AI rules now ... press reset to continue")}),1e3)}}));function $(){const[e,n]=function(e,n,t){if(t.doCleanUp&&(z.length=0,D.length=0),0!==z.length){const[t,o]=z.at(-1);if(e[t][o].ship.isSunk())z.length=0;else{if(o+1<N&&!e[t][o+1].isHit&&!n[t][o+1].classList.contains("disabled-cell"))return n[t][o+1].classList.contains("ship-cell")?z.push([t,o+1]):z.length=1,[t,o+1];if(o-1>=0&&!e[t][o-1].isHit&&!n[t][o-1].classList.contains("disabled-cell"))return n[t][o-1].classList.contains("ship-cell")?z.push([t,o-1]):z.length=1,[t,o-1]}}if(0!==D.length){const[t,o]=D.at(-1);if(e[t][o].ship.isSunk())D.length=0;else{if(t+1<N&&!e[t+1][o].isHit&&!n[t+1][o].classList.contains("disabled-cell"))return n[t+1][o].classList.contains("ship-cell")?D.push([t+1,o]):D.length=1,[t+1,o];if(t-1>=0&&!e[t-1][o].isHit&&!n[t-1][o].classList.contains("disabled-cell"))return n[t-1][o].classList.contains("ship-cell")?D.push([t-1,o]):D.length=1,[t-1,o]}}for(;;){const t=Math.floor(Math.random()*N),o=Math.floor(Math.random()*N);if(!e[t][o].isHit&&!n[t][o].classList.contains("disabled-cell"))return n[t][o].classList.contains("ship-cell")&&(z.push([t,o]),D.push([t,o])),[t,o]}}(_.gameBoard.board,B,G),t=_.gameBoard.board[e][n],o=B[e][n];if(_.gameBoard.receiveAttack([e,n]),t.ship?(o.classList.add("dead-cell"),_.hitAudioContext.pause(),_.hitAudioContext.currentTime=0,_.hitAudioContext.play()):(o.classList.add("missed-cell"),_.missAudioContext.pause(),_.missAudioContext.currentTime=0,_.missAudioContext.play()),t.ship?.isSunk()){const o=Y(e,n,_.gameBoard);V(o,K(o,t.ship,t.orientation),_.gameBoard,B)}}function V(e,n,t,o){for(let r=Math.max(0,e[0]-1);r<=Math.min(9,n[0]+1);r++)for(let i=Math.max(0,e[1]-1);i<=Math.min(9,n[1]+1);i++){const e=t.board[r][i];e.ship||e.isHit||o[r][i].classList.add("disabled-cell")}}function W(e,n){const t=_.gameBoard.board[e][n],o=t.ship,r=Y(e,n,_.gameBoard),i=_.gameBoard.getPlaceablePositions(o);if("H"===t.orientation){for(let e=r[0]+1;e<r[0]+o.dimension;e++)if(!i.includes(JSON.stringify([e,r[1]])))return;t.orientation=O}else{for(let e=r[1]+1;e<r[1]+o.dimension;e++)if(!i.includes(JSON.stringify([r[0],e])))return;t.orientation="H"}const s=K(r,o,t.orientation);_.gameBoard.removeShip(o),_.gameBoard.placeShip(o,r,s),Q(_,B)}function Y(e,n,t){const o=t.board[e][n];return o.orientation===O?[e-o.index,n]:[e,n-o.index]}function K(e,n,t){return t===O?[e[0]+n.dimension-1,e[1]]:[e[0],e[1]+n.dimension-1]}function Q(e,n){for(let t=0;t<N;t++)for(let o=0;o<N;o++)e.gameBoard.board[t][o].ship?(n[t][o].classList.add("ship-cell"),n[t][o].draggable=!0):(n[t][o].classList.remove("ship-cell"),n[t][o].draggable=!1),n[t][o].classList.remove("dead-cell"),n[t][o].classList.remove("missed-cell"),n[t][o].classList.remove("disabled-cell")}function X(e){if(!(e instanceof Array))return!1;if(2!==e.length)return!1;const[n,t]=e;return!(n<0||n>=N||t<0||t>=N)}})();